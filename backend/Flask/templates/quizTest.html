<!DOCTYPE html>
<html>
<head>
    <title>Hand Sign Recognition</title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script>
        $(function() {
            // Get references to the canvas and video elements
            var canvas = document.getElementById('canvas');
            var video = document.getElementById('video');

            // Start the webcam video stream
            navigator.mediaDevices.getUserMedia({ video: true }).then(function(stream) {
                video.srcObject = stream;
                video.play();
            });

            // Capture the image from the canvas and send it to the Flask server
            $('#submit-btn').click(function() {
                canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);
                var img_data = canvas.toDataURL('image/jpeg', 1.0);
                $.post('/predict', { image: img_data }, function(data) {
                    $('#result').text(data.message);
                    $('#accuracy').text('Accuracy: ' + data.accuracy + '%');
                });
            });
        });
    </script>
</head>
<body>
    <h1>Hand Sign Recognition</h1>
    <div>
        <video id="video" width="224" height="224" autoplay></video>
    </div>
    <p>Use the button below to capture an image of your hand sign and submit it for classification:</p>
    <canvas id="canvas" width="224" height="224"></canvas>
    <br>
    <button id="submit-btn">Submit</button>
    <br>
    <p id="result"></p>
    <p id="accuracy"></p>
</body>
</html>
